import{d as L,A as k,R as F,oc as J,C as K,a0 as Q,ag as U,z as G,aN as I,o as Y,S as M,a2 as i,f as v,V as g,od as ee,W as ae,oe as te,Z as re,ah as ne,_ as se,b as W,h as $,F as oe,i as le,c as ie,G as ce,l as ue}from"./index-ca48b553.js";import{u as ve}from"./useBreakpoint-5a711363.js";import{e as fe}from"./eagerComputed-7bea5254.js";var de=function(){return{prefixCls:String,shape:{type:String,default:"circle"},size:{type:[Number,String,Object],default:function(){return"default"}},src:String,srcset:String,icon:ae.any,alt:String,gap:Number,draggable:{type:Boolean,default:void 0},crossOrigin:String,loadError:{type:Function}}},me=L({compatConfig:{MODE:3},name:"AAvatar",inheritAttrs:!1,props:de(),slots:["icon"],setup:function(e,x){var p=x.slots,n=x.attrs,c=k(!0),_=k(!1),h=k(1),l=k(null),S=k(null),E=F("avatar",e),y=E.prefixCls,O=J(),s=K(function(){return e.size==="default"?O.value:e.size}),j=ve(),f=fe(function(){if(Q(e.size)==="object"){var a=U.find(function(r){return j.value[r]}),t=e.size[a];return t}}),N=function(t){return f.value?{width:"".concat(f.value,"px"),height:"".concat(f.value,"px"),lineHeight:"".concat(f.value,"px"),fontSize:"".concat(t?f.value/2:18,"px")}:{}},d=function(){if(!(!l.value||!S.value)){var t=l.value.offsetWidth,r=S.value.offsetWidth;if(t!==0&&r!==0){var u=e.gap,b=u===void 0?4:u;b*2<r&&(h.value=r-b*2<t?(r-b*2)/t:1)}}},P=function(){var t=e.loadError,r=t==null?void 0:t();r!==!1&&(c.value=!1)};return G(function(){return e.src},function(){I(function(){c.value=!0,h.value=1})}),G(function(){return e.gap},function(){I(function(){d()})}),Y(function(){I(function(){d(),_.value=!0})}),function(){var a,t,r=e.shape,u=e.src,b=e.alt,H=e.srcset,w=e.draggable,D=e.crossOrigin,C=M(p,e,"icon"),m=y.value,V=(a={},i(a,"".concat(n.class),!!n.class),i(a,m,!0),i(a,"".concat(m,"-lg"),s.value==="large"),i(a,"".concat(m,"-sm"),s.value==="small"),i(a,"".concat(m,"-").concat(r),r),i(a,"".concat(m,"-image"),u&&c.value),i(a,"".concat(m,"-icon"),C),a),q=typeof s.value=="number"?{width:"".concat(s.value,"px"),height:"".concat(s.value,"px"),lineHeight:"".concat(s.value,"px"),fontSize:C?"".concat(s.value/2,"px"):"18px"}:{},R=(t=p.default)===null||t===void 0?void 0:t.call(p),A;if(u&&c.value)A=v("img",{draggable:w,src:u,srcset:H,onError:P,alt:b,crossorigin:D},null);else if(C)A=C;else if(_.value||h.value!==1){var T="scale(".concat(h.value,") translateX(-50%)"),X={msTransform:T,WebkitTransform:T,transform:T},Z=typeof s.value=="number"?{lineHeight:"".concat(s.value,"px")}:{};A=v(ee,{onResize:d},{default:function(){return[v("span",{class:"".concat(m,"-string"),ref:l,style:g(g({},Z),X)},[R])]}})}else A=v("span",{class:"".concat(m,"-string"),ref:l,style:{opacity:0}},[R]);return v("span",g(g({},n),{},{ref:S,class:V,style:[q,N(!!C),n.style]}),[A])}}});const z=me;var ge=function(){return{prefixCls:String,maxCount:Number,maxStyle:{type:Object,default:void 0},maxPopoverPlacement:{type:String,default:"top"},maxPopoverTrigger:String,size:{type:[Number,String,Object],default:"default"}}},pe=L({compatConfig:{MODE:3},name:"AAvatarGroup",inheritAttrs:!1,props:ge(),setup:function(e,x){var p=x.slots,n=x.attrs,c=F("avatar-group",e),_=c.prefixCls,h=c.direction;return te(e),function(){var l,S=e.maxPopoverPlacement,E=S===void 0?"top":S,y=e.maxCount,O=e.maxStyle,s=e.maxPopoverTrigger,j=s===void 0?"hover":s,f=(l={},i(l,_.value,!0),i(l,"".concat(_.value,"-rtl"),h.value==="rtl"),i(l,"".concat(n.class),!!n.class),l),N=M(p,e),d=re(N).map(function(r,u){return ne(r,{key:"avatar-key-".concat(u)})}),P=d.length;if(y&&y<P){var a=d.slice(0,y),t=d.slice(y,P);return a.push(v(se,{key:"avatar-popover-key",content:t,trigger:j,placement:E,overlayClassName:"".concat(_.value,"-popover")},{default:function(){return[v(z,{style:O},{default:function(){return["+".concat(P-y)]}})]}})),v("div",g(g({},n),{},{class:f,style:n.style}),[a])}return v("div",g(g({},n),{},{class:f,style:n.style}),[d])}}});const B=pe;z.Group=B;z.install=function(o){return o.component(z.name,z),o.component(B.name,B),o};const ye={class:"avatar-list"},xe=L({__name:"AvatarList",props:{source:Array,size:{type:Number,default:22,required:!1}},setup(o){return(e,x)=>{const p=z;return W(),$("div",ye,[(W(!0),$(oe,null,le(o.source,(n,c)=>(W(),ie(p,{style:ce(`margin-left: -${o.size/2}px`),size:o.size,key:c,src:n.avatar},null,8,["style","size","src"]))),128))])}}});const Pe=ue(xe,[["__scopeId","data-v-2ea8cb8f"]]);export{Pe as A};
//# sourceMappingURL=AvatarList-12fe23fd.js.map
