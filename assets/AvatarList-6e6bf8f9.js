import{d as W,r as k,P as F,oc as V,v as Z,Z as J,af as K,y as R,aM as N,o as Y,Q as G,a0 as i,g as v,S as m,od as ee,U as ae,oe as te,X as re,ag as ne,_ as se,c as B,e as $,F as oe,h as le,j as ie,A as ce,q as ue}from"./index-1998b52d.js";import{u as ve}from"./useBreakpoint-b244ee29.js";import{e as fe}from"./eagerComputed-2143b979.js";var de=function(){return{prefixCls:String,shape:{type:String,default:"circle"},size:{type:[Number,String,Object],default:function(){return"default"}},src:String,srcset:String,icon:ae.any,alt:String,gap:Number,draggable:{type:Boolean,default:void 0},crossOrigin:String,loadError:{type:Function}}},ge=W({compatConfig:{MODE:3},name:"AAvatar",inheritAttrs:!1,props:de(),slots:["icon"],setup:function(e,x){var p=x.slots,n=x.attrs,c=k(!0),_=k(!1),h=k(1),l=k(null),S=k(null),E=F("avatar",e),y=E.prefixCls,j=V(),s=Z(function(){return e.size==="default"?j.value:e.size}),O=ve(),f=fe(function(){if(J(e.size)==="object"){var a=K.find(function(r){return O.value[r]}),t=e.size[a];return t}}),T=function(t){return f.value?{width:"".concat(f.value,"px"),height:"".concat(f.value,"px"),lineHeight:"".concat(f.value,"px"),fontSize:"".concat(t?f.value/2:18,"px")}:{}},d=function(){if(!(!l.value||!S.value)){var t=l.value.offsetWidth,r=S.value.offsetWidth;if(t!==0&&r!==0){var u=e.gap,b=u===void 0?4:u;b*2<r&&(h.value=r-b*2<t?(r-b*2)/t:1)}}},P=function(){var t=e.loadError,r=t==null?void 0:t();r!==!1&&(c.value=!1)};return R(function(){return e.src},function(){N(function(){c.value=!0,h.value=1})}),R(function(){return e.gap},function(){N(function(){d()})}),Y(function(){N(function(){d(),_.value=!0})}),function(){var a,t,r=e.shape,u=e.src,b=e.alt,H=e.srcset,q=e.draggable,w=e.crossOrigin,C=G(p,e,"icon"),g=y.value,D=(a={},i(a,"".concat(n.class),!!n.class),i(a,g,!0),i(a,"".concat(g,"-lg"),s.value==="large"),i(a,"".concat(g,"-sm"),s.value==="small"),i(a,"".concat(g,"-").concat(r),r),i(a,"".concat(g,"-image"),u&&c.value),i(a,"".concat(g,"-icon"),C),a),X=typeof s.value=="number"?{width:"".concat(s.value,"px"),height:"".concat(s.value,"px"),lineHeight:"".concat(s.value,"px"),fontSize:C?"".concat(s.value/2,"px"):"18px"}:{},M=(t=p.default)===null||t===void 0?void 0:t.call(p),A;if(u&&c.value)A=v("img",{draggable:q,src:u,srcset:H,onError:P,alt:b,crossorigin:w},null);else if(C)A=C;else if(_.value||h.value!==1){var I="scale(".concat(h.value,") translateX(-50%)"),Q={msTransform:I,WebkitTransform:I,transform:I},U=typeof s.value=="number"?{lineHeight:"".concat(s.value,"px")}:{};A=v(ee,{onResize:d},{default:function(){return[v("span",{class:"".concat(g,"-string"),ref:l,style:m(m({},U),Q)},[M])]}})}else A=v("span",{class:"".concat(g,"-string"),ref:l,style:{opacity:0}},[M]);return v("span",m(m({},n),{},{ref:S,class:D,style:[X,T(!!C),n.style]}),[A])}}});const z=ge;var me=function(){return{prefixCls:String,maxCount:Number,maxStyle:{type:Object,default:void 0},maxPopoverPlacement:{type:String,default:"top"},maxPopoverTrigger:String,size:{type:[Number,String,Object],default:"default"}}},pe=W({compatConfig:{MODE:3},name:"AAvatarGroup",inheritAttrs:!1,props:me(),setup:function(e,x){var p=x.slots,n=x.attrs,c=F("avatar-group",e),_=c.prefixCls,h=c.direction;return te(e),function(){var l,S=e.maxPopoverPlacement,E=S===void 0?"top":S,y=e.maxCount,j=e.maxStyle,s=e.maxPopoverTrigger,O=s===void 0?"hover":s,f=(l={},i(l,_.value,!0),i(l,"".concat(_.value,"-rtl"),h.value==="rtl"),i(l,"".concat(n.class),!!n.class),l),T=G(p,e),d=re(T).map(function(r,u){return ne(r,{key:"avatar-key-".concat(u)})}),P=d.length;if(y&&y<P){var a=d.slice(0,y),t=d.slice(y,P);return a.push(v(se,{key:"avatar-popover-key",content:t,trigger:O,placement:E,overlayClassName:"".concat(_.value,"-popover")},{default:function(){return[v(z,{style:j},{default:function(){return["+".concat(P-y)]}})]}})),v("div",m(m({},n),{},{class:f,style:n.style}),[a])}return v("div",m(m({},n),{},{class:f,style:n.style}),[d])}}});const L=pe;z.Group=L;z.install=function(o){return o.component(z.name,z),o.component(L.name,L),o};const ye={class:"avatar-list"},xe=W({__name:"AvatarList",props:{source:Array,size:{type:Number,default:22,required:!1}},setup(o){return(e,x)=>{const p=z;return B(),$("div",ye,[(B(!0),$(oe,null,le(o.source,(n,c)=>(B(),ie(p,{style:ce(`margin-left: -${o.size/2}px`),size:o.size,key:c,src:n.avatar},null,8,["style","size","src"]))),128))])}}});const Pe=ue(xe,[["__scopeId","data-v-2ea8cb8f"]]);export{Pe as A};
//# sourceMappingURL=AvatarList-6e6bf8f9.js.map
